<html>
  <head>
    <script src="deterfox_begin.js"></script>
  </head>
  <body>
    
  </body>
    <div id="img"></div>

<script>
/*document.write(performance.now() + "<br>");
for(i = 0; i < 1000; ++i);
document.write(performance.now() + "<br>");

document.write(performance.now() + "<br>");
function cb(){
  document.write(performance.now() + "<br>");
}
setTimeout(cb, 1000);*/

count = 0;

function tick(){
  count += 1;
  setTimeout(tick, 10);
}

/*var start = performance.now();
document.write("start " + start + "<br>");
function cb1(){
  document.write("tick  " + count + "<br>");
  duration = performance.now() - start;
  document.write("time  " + duration + "<br>");
}
setTimeout(cb1, 1000);*/

tmp = 0;

function doScriptParse(index)
{	
    var s = document.createElement('script');
    start = performance.now();
    start_tick = count;
    console.log("call " + index);
    console.log(start);
    console.log(start_tick);
    s.src = index + "e5.js";
    document.body.appendChild(s);
    window.onerror = function(){
        end = performance.now();
        end_tick = count;
	duration = end - start;
	duration_tick = end_tick - start_tick;
	console.log("duration " + duration);
	console.log("tick " + duration_tick);
	tmp += 1;
	if(tmp < 5)doScriptParse(index);
    };
}

doScriptParse(9);
//doScriptParse(1);

tick();

var src = document.getElementById("img");
var img = document.createElement('img');
img.src = "1.png";
//img.onload = function(){console.log("image load");};
src.appendChild(img);
    </script>
    <script src="deterfox_end.js"></script>

</html>
